
<!--Accounts Manager-->
<div class="row" ng-show="userRole=='Accounts Manager'">
    <div class="col-lg-3 col-xs-6">
        <!-- small box -->
        <div class="small-box bg-purple">
            <div class="inner">
                <h3>{{appDetails.lastBookEntryDate| date:'dd-MM-yy'}}</h3>
                <p>Last Book Entry</p>
            </div>
            <div class="icon">
                <i class="fa fa-calendar"></i>
            </div>

        </div>
    </div><!-- ./col -->
    <div class="col-lg-3 col-xs-6">
        <!-- small box -->
        <div class="small-box bg-aqua">
            <div class="inner">
                <h3>{{appDetails.noOfLedgers| number:0}}</h3>
                <p>Ledgers</p>
            </div>
            <div class="icon">
                <i class="fa fa-book"></i>
            </div>

        </div>
    </div><!-- ./col -->
    <div class="col-lg-3 col-xs-6">
        <!-- small box -->
        <div class="small-box bg-green">
            <div class="inner">
                <h3>{{appDetails.noOfGroups| number:0}}</h3>
                <p>Groups</p>
            </div>
            <div class="icon">
                <i class="fa fa-cubes"></i>
            </div>

        </div>
    </div><!-- ./col -->
    <div class="col-lg-3 col-xs-6">
        <!-- small box -->
        <div class="small-box bg-red">
            <div class="inner">
                <h3>{{appDetails.noOfVoucherTypes| number:0}}</h3>
                <p>Voucher Types</p>
            </div>
            <div class="icon">
                <i class="fa fa-credit-card"></i>
            </div>

        </div>
    </div><!-- ./col -->

</div>

<div class="row" ng-show="userRole=='Accounts Manager'">
    <div class="col-md-12">
        <div class="box box-success">
            <div class="box-header with-border">
                <form class="form-inline">
                    <span class="box-title"><i class="fa fa-pencil"></i> Accounts : {{piList.length}} </span>
                    <div class="form-group">
                        <label for="exampleInputNameYear" style="margin-left:1em;">Year</label>
                        <select name="exampleInputNameYear"
                                ng-model="yearDdl"
                                ng-change="changedYear()"
                                class="form-control">
                            <option ng-repeat="item in yearList" ng-selected="{{item==yearListSelectedData}}" value="{{item}}">{{item}}</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="exampleInputNameMonth" style="margin-left:1em;">Month</label>
                        <select name="exampleInputNameMonth"
                                ng-model="monthDdl"
                                ng-change="changedMonth()"
                                ng-options="x as x.name for x in months track by x.id"
                                class="form-control">
                            <option value="">--Month--</option>
                        </select>

                    </div>

                </form>

                <div class="box-tools pull-right">
                    <button class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
                    <button class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
                </div>
            </div><!-- /.box-header -->
            <div class="box-body">






            </div><!-- /.box-body -->
            <!-- Loading (remove the following to stop the loading)-->
            <div ng-class="class" ng-show="loading">
                <i class="fa fa-refresh fa-spin"></i>
            </div>
            <!-- end loading -->
        </div><!-- /.box -->
    </div>
</div>
<!--End Accounts Manager-->

<!--Sales Manager-->
<div class="row" ng-show="userRole=='Show Room Manager' || userRole=='Show Room Sales'">
    <div class="col-lg-3 col-xs-6">
        <!-- small box -->
        <div class="small-box bg-purple">
            <div class="inner">
                <h3>{{appDetails.lastSaleEntryDate| date:'dd-MM-yy'}}</h3>
                <p>Last Sales Entry</p>
            </div>
            <div class="icon">
                <i class="fa fa-calendar"></i>
            </div>

        </div>
    </div><!-- ./col -->
    <div class="col-lg-3 col-xs-6">
        <!-- small box -->
        <div class="small-box bg-aqua">
            <div class="inner">
                <h3>{{0| number:0}}</h3>
                <p>Credits</p>
            </div>
            <div class="icon">
                <i class="fa fa-edit"></i>
            </div>

        </div>
    </div><!-- ./col -->
    <div class="col-lg-3 col-xs-6">
        <!-- small box -->
        <div class="small-box bg-green">
            <div class="inner">
                <h3>{{appDetails.noOfCustomers| number:0}}</h3>
                <p>Customers</p>
            </div>
            <div class="icon">
                <i class="fa fa-users"></i>
            </div>

        </div>
    </div><!-- ./col -->
    <div class="col-lg-3 col-xs-6">
        <!-- small box -->
        <div class="small-box bg-red">
            <div class="inner">
                <h3>{{appDetails.noOfProducts| number:0}}</h3>
                <p>Products</p>
            </div>
            <div class="icon">
                <i class="fa fa-apple"></i>
            </div>

        </div>
    </div><!-- ./col -->

</div>

<div class="box box-default collapsed-box">
    <div class="box-header with-border">
        <div class="form-inline">
            <h3 class="box-title"><i class="fa fa-bar-chart"></i> Managers Monthly Sale and Collection</h3>
            <div class="form-group">
                <label for="yearDdlMonthlySales" style="margin-left:1em;">Year</label>
                <select name="yearDdlMonthlySales" id="yearDdlMonthlySales"
                        ng-model="yearDdlMonthlySales"
                        ng-change="changedYearDdlMonthlySales()"
                        class="form-control">
                    <option ng-repeat="item in yearList" ng-selected="{{item==yearListSelectedData}}" value="{{item}}">{{item}}</option>
                </select>
            </div>
            <div class="form-group">
                <label for="monthDdlMonthlySales" style="margin-left:1em;">Month</label>
                <select name="monthDdlMonthlySales" id="monthDdlMonthlySales"
                        ng-model="monthDdlMonthlySales"
                        ng-change="changedMonthDdlMonthlySales()"
                        ng-options="x as x.name for x in months track by x.id"
                        class="form-control">
                    <option value="">--Month--</option>
                </select>

            </div>
        </div>
        <div class="box-tools pull-right">
            <button type="button" class="btn btn-box-tool" data-widget="collapse">
                <i class="fa fa-plus"></i>
            </button>
        </div>
        <!-- /.box-tools -->
    </div>
    <!-- /.box-header -->
    <div class="box-body" style="display: none;">
        <div class="row">
            <div class="col-md-6 col-sm-12">
                <canvas id="bar" class="chart chart-bar"
                        chart-data="dataBar" chart-labels="labelsBar"
                        chart-series="seriesBar"></canvas>
            </div>
            <div class="col-md-6 col-sm-12">
                
                <div class="table-responsive" ng-show="salesManWiseMonthlySale.length>0">
                    <table class="table table-bordered table-condensed table-hover">
                        <tr style="font-weight: bold">
                            <td style="" ng-click="sort('SalesManName')" width="50%"><span class="glyphicon sort-icon" ng-show="sortKey=='SalesManName'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span> Manager</td>
                            <td style="" ng-click="sort('TotalSaleTaka')" width="25%"><span class="glyphicon sort-icon" ng-show="sortKey=='TotalSaleTaka'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span> SaleAmount</td>
                            <td style="" ng-click="sort('TotalCollectionTaka')" width="25%"><span class="glyphicon sort-icon" ng-show="sortKey=='TotalCollectionTaka'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span> CollectionAmount</td>
                        </tr>
                        <tr ng-repeat="s in (salesManFilteredList = (salesManWiseMonthlySale | filter: searchText)) |orderBy:sortKey:reverse | startForm: (currentPage - 1) * pageSize | limitTo: pageSize">
                            <td>{{ s.SalesManName }}</td>
                            <td style="text-align:right">{{ s.TotalSaleTaka }}</td>
                            <td style="text-align:right">{{ s.TotalCollectionTaka }}</td>
                        </tr>
                        <tr class="text-bold">
                            <td style="text-align:right">Total:</td>
                            <td style="text-align:right">{{salesManFilteredList |sumByKey:'TotalSaleTaka' | currency:"" :"0"}}</td>
                            <td style="text-align:right">{{salesManFilteredList |sumByKey:'TotalCollectionTaka' | currency:"" :"0"}}</td>
                        </tr>
                    </table>

                </div>

            </div>
        </div>


    </div>
    <!-- /.box-body -->
</div>
<!-- /.box -->

<div class="box box-default collapsed-box">
    <div class="box-header with-border">
        <div class="form-inline">
            <h3 class="box-title"><i class="fa fa-pie-chart"></i> Managers Yearly Sale and Collection</h3>
            <div class="form-group">
                <label for="exampleInputNameYear" style="margin-left:1em;">Year</label>
                <select name="exampleInputNameYear" id="yearDdlYearlySales"
                        ng-model="yearDdlYearlySales"
                        ng-change="changedYearDdlYearlySales()"
                        class="form-control">
                    <option ng-repeat="item in yearList" ng-selected="{{item==yearListSelectedData}}" value="{{item}}">{{item}}</option>
                </select>
            </div>

            
        </div>
        <div class="box-tools pull-right">
            <button type="button" class="btn btn-box-tool" data-widget="collapse">
                <i class="fa fa-plus"></i>
            </button>
        </div>
        <!-- /.box-tools -->
    </div>
    <!-- /.box-header -->
    <div class="box-body" style="display: none;">
        <div class="row">
            <div class="col-md-6 col-sm-12">
                <canvas id="barYear" class="chart chart-bar"
                        chart-data="dataBarYear" chart-labels="labelsBarYear"
                        chart-series="seriesBarYear"></canvas>
            </div>
            <div class="col-md-6 col-sm-12">

                <div class="table-responsive" ng-show="salesManWiseYearlySale.length>0">
                    <table class="table table-bordered table-condensed table-hover">
                        <tr style="font-weight: bold">
                            <td style="" ng-click="sort('SalesManName')" width="50%"><span class="glyphicon sort-icon" ng-show="sortKey=='SalesManName'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span> Manager</td>
                            <td style="" ng-click="sort('TotalSaleTaka')" width="25%"><span class="glyphicon sort-icon" ng-show="sortKey=='TotalSaleTaka'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span> SaleAmount</td>
                            <td style="" ng-click="sort('TotalCollectionTaka')" width="25%"><span class="glyphicon sort-icon" ng-show="sortKey=='TotalCollectionTaka'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span> CollectionAmount</td>
                        </tr>
                        <tr ng-repeat="y in (salesManFilteredYearList = (salesManWiseYearlySale | filter: searchText)) |orderBy:sortKey:reverse | startForm: (currentPage - 1) * pageSize | limitTo: pageSize">
                            <td>{{ y.SalesManName }}</td>
                            <td style="text-align:right">{{ y.TotalSaleTaka }}</td>
                            <td style="text-align:right">{{ y.TotalCollectionTaka }}</td>
                        </tr>
                        <tr class="text-bold">
                            <td style="text-align:right">Total:</td>
                            <td style="text-align:right">{{salesManFilteredYearList |sumByKey:'TotalSaleTaka' | currency:"" :"0"}}</td>
                            <td style="text-align:right">{{salesManFilteredYearList |sumByKey:'TotalCollectionTaka' | currency:"" :"0"}}</td>
                        </tr>
                    </table>

                </div>

            </div>
        </div>


    </div>
    <!-- /.box-body -->
</div>
<!-- /.box -->

<div class="box box-default collapsed-box">
    <div class="box-header with-border">
        <div class="form-inline">
            <h3 class="box-title"><i class="fa fa-users"></i> Customers Closing Balances <small class="label label-default text-red">{{filteredList.length}}</small></h3>
            <input ng-model="searchText" class="searchTextBox" type="text" value="" placeholder="Filter" style="margin:0em 1em;">
        </div>
        <div class="box-tools pull-right">
            <button type="button" class="btn btn-box-tool" data-widget="collapse">
                <i class="fa fa-plus"></i>
            </button>
        </div>
        <!-- /.box-tools -->
    </div>
    <!-- /.box-header -->
    <div class="box-body" style="display: none;">
        <div class="table-responsive">

            <table class="table table-bordered table-condensed table-hover table-striped">
                <tr style="font-weight: bold" class="">
                    <td style="" ng-click="sort('DistrictName')"><span class="glyphicon sort-icon" ng-show="sortKey=='DistrictName'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span> District</td>
                    <td style="" ng-click="sort('SalesManName')"><span class="glyphicon sort-icon" ng-show="sortKey=='SalesManName'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span> Manager</td>
                    <td style="" ng-click="sort('CustomerName')"><span class="glyphicon sort-icon" ng-show="sortKey=='CustomerName'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span> CustomerName</td>
                    <td style="" ng-click="sort('Limit')"><span class="glyphicon sort-icon" ng-show="sortKey=='Limit'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span> Limit</td>
                    <td style="" ng-click="sort('SaleCost')"><span class="glyphicon sort-icon" ng-show="sortKey=='SaleCost'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span> SaleAmount</td>
                    <td style="" ng-click="sort('GatOther')"><span class="glyphicon sort-icon" ng-show="sortKey=='GatOther'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span> Other</td>
                    <td style="" ng-click="sort('MemoDiscount')"><span class="glyphicon sort-icon" ng-show="sortKey=='MemoDiscount'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span> Discount</td>
                    <td style="" ng-click="sort('PaymentAmount')"><span class="glyphicon sort-icon" ng-show="sortKey=='PaymentAmount'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span> Payment</td>
                    <td style="" ng-click="sort('Adjustment')"><span class="glyphicon sort-icon" ng-show="sortKey=='Adjustment'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span> Adjustment</td>
                    <td style="" ng-click="sort('Balance')"><span class="glyphicon sort-icon" ng-show="sortKey=='Balance'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span> Balance</td>
                    <td style="" ng-click="sort('MemoDate')"><span class="glyphicon sort-icon" ng-show="sortKey=='MemoDate'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span> LastMemo</td>
                    <td style="" ng-click="sort('PaymentDate')"><span class="glyphicon sort-icon" ng-show="sortKey=='PaymentDate'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span> LastPayment</td>

                </tr>
                <tr ng-repeat="user in (filteredList = (customerClosingBalances | filter: searchText)) |orderBy:sortKey:reverse | startForm: (currentPage - 1) * pageSize | limitTo: pageSize">
                    <td>{{ user.DistrictName }}</td>
                    <td>{{ user.SalesManName }}</td>

                    <td>{{ user.CustomerName || 'empty' }}</td>
                    <td style="text-align:right">{{ user.Limit }}</td>
                    <td style="text-align:right">{{ user.SaleCost }}</td>
                    <td style="text-align:right">{{ user.GatOther }}</td>
                    <td style="text-align:right">{{ user.MemoDiscount }}</td>
                    <td style="text-align:right">{{ user.PaymentAmount }}</td>
                    <td style="text-align:right">{{ user.Adjustment }}</td>
                    <td style="text-align:right">{{ user.Balance }}</td>
                    <td>{{ user.MemoDate|date: 'dd/MM/yyyy' }}</td>
                    <td>{{ user.PaymentDate|date: 'dd/MM/yyyy' | hideIfEmpty: 'dd.MM.yyyy'}}</td>

                </tr>
                <tr class="text-bold">
                    <td colspan="3" style="text-align:right">Total:</td>
                    <td style="text-align:right">{{filteredList |sumByKey:'Limit' |currency:"":"0"}}</td>
                    <td style="text-align:right">{{filteredList |sumByKey:'SaleCost' |currency:"":"0"}}</td>
                    <td style="text-align:right">{{filteredList |sumByKey:'GatOther' |currency:"":"0"}}</td>
                    <td style="text-align:right">{{filteredList |sumByKey:'MemoDiscount' |currency:"":"0"}}</td>
                    <td style="text-align:right">{{filteredList |sumByKey:'PaymentAmount' |currency:"":"0"}}</td>
                    <td style="text-align:right">{{filteredList |sumByKey:'Adjustment' |currency:"":"0"}}</td>
                    <td style="text-align:right">{{filteredList |sumByKey:'Balance' |currency:"":"0"}}</td>
                    <td></td>
                    <td></td>
                </tr>
            </table>

        </div>
        <pagination ng-model="currentPage"
                    total-items="filteredList.length"
                    max-size="maxSize"
                    items-per-page="pageSize"
                    boundary-links="true">
        </pagination>

    </div>
    <!-- /.box-body -->
</div>
<!-- /.box -->

<div class="box box-default" ng-show="userRole=='Show Room Manager' || userRole=='Show Room Sales'">
    <div class="box-header with-border">
        <div class="form-inline">
            <h3 class="box-title"><i class="fa fa-calendar"></i> Sales on Date</h3>
            <div class="form-group">
                <input class="form-control" type="text" tabindex="" name="saleDate" id="saleDate"
                        ng-change="dateSaleInGoogleMap()"
                        move-focus-by-enter-key
                        ng-focus="FromDatePickerOpen()"
                        datepicker-localdate
                        datepicker-popup="dd/MM/yyyy"
                        is-open="fromDatePickerIsOpen"
                        ng-click="FromDatePickerOpen()"
                        ng-model="saleDate" />
                   
            </div>
            <div class="form-group">
                <label for="" style="margin-left:1em;">Manager</label>
                <select name="SalesManId" class="form-control" tabindex=""
                        move-focus-by-enter-key
                        ng-model="customer.SalesManId"
                        ng-options="l.SalesManName for l in salesManList track by l.SalesManId">
                    <option value="">--Sales Manager Name--</option>
                </select>
            </div>
        </div>

        <div class="box-tools pull-right">
            <button class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
            <button class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
        </div>
    </div>

    <div class="box-body">
        <div class="row">
            <div class="col-md-6 col-sm-12">
                <!--The calendar -->
                <style>
                    #map {
                        height: 600px;
                    }

                    #floating-panel {
                        position: absolute;
                        top: 10px;
                        left: 32%;
                        z-index: 5;
                        background-color: #fff;
                        padding: 5px;
                        border: 1px solid #999;
                        text-align: center;
                        font-family: 'Roboto','sans-serif';
                        line-height: 13px;
                        padding-left: 10px;
                        color: #000000;
                        padding-right: 10px;
                    }

                    #floating-panel {
                        margin-left: -52px;
                    }
                </style>

                <div id="floating-panel">
                    <button id="drop" onclick="drop()">Drop Sales</button>
                </div>
                <div id="map"></div>

            </div>
            <div class="col-md-6 col-sm-12">
                <div class="table-responsive" ng-show="dateSalesinMapList.length>0">
                    <table class="table table-bordered table-condensed table-hover">
                        <tr style="font-weight: bold">
                            <td style="" ng-click="sort('DistrictName')" width="50%"><span class="glyphicon sort-icon" ng-show="sortKey=='DistrictName'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span> District</td>
                            <td style="" ng-click="sort('TotalSaleTaka')" width="25%"><span class="glyphicon sort-icon" ng-show="sortKey=='TotalSaleTaka'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span> SaleAmount</td>
                        </tr>
                        <tr ng-repeat="b in (dateSalesinMapFilteredList = (dateSalesinMapList | filter: searchText)) |orderBy:sortKey:reverse | startForm: (currentPage - 1) * pageSize | limitTo: pageSize">
                            <td>{{ b.DistrictName }}</td>
                            <td style="text-align:right">{{ b.TotalSaleTaka }}</td>
                        </tr>
                        <tr class="text-bold">
                            <td style="text-align:right">Total:</td>
                            <td style="text-align:right">{{dateSalesinMapFilteredList |sumByKey:'TotalSaleTaka' | currency:"" :"0"}}</td>
                        </tr>
                    </table>

                </div>
            </div>
        </div>
    </div><!-- /.box-body -->


    <!-- /.box-footer -->
</div>
<!--End Sales Manager-->


<script>
    function loadDailySaleInMap() {
        clearMarkers();
        var accesstoken = sessionStorage.getItem('accessToken');
        var authHeaders = {};
        if (accesstoken) {
            authHeaders.Authorization = 'Bearer ' + accesstoken;
        }

        var url = "http://localhost:12005/api/MemoMasters/GetDateSalesInMap/" + '2018-02-03' + '/' + 0;
        var xhttp = new XMLHttpRequest();
        xhttp.open("GET", url, true);
        xhttp.setRequestHeader("Content-type", "application/json");
        xhttp.setRequestHeader('Authorization', 'Bearer ' + accesstoken);
        xhttp.send();
        //var response = JSON.parse(xhttp.responseText);
        console.log(xhttp.responseText);
    }
    var districtSaleList = [
        { place: 'JAMALPUR', TotalSaleTaka: 34000 },
        { place: 'KUSTIA',  TotalSaleTaka: 15000},
        { place: 'BAGERHAT' ,TotalSaleTaka: 29275},
        { place: 'SATHKHIRA', TotalSaleTaka: 42500},
        { place: 'FARIDPUR', TotalSaleTaka: 32660}
    ];

    var markers = [];
    var map;

    function initMap() {
        map = new google.maps.Map(document.getElementById('map'), {
            zoom: 7,
            center: { lat: 23.684994, lng: 90.35633099999995 }
        });
        setMarkers(map, districtSaleList)
    }


    function setMarkers(map, locations) {
        
        var marker, i
        
        for (i = 0; i < locations.length; i++) {

            var add = locations[i].place;
            var amount = locations[i].TotalSaleTaka;
            var tk = locations[i].TotalSaleTaka
            var plaseObj = {};
            var geocoder = new google.maps.Geocoder();

            if (geocoder) {

                geocoder.geocode({
                    'address': add
                }, function (results, status, tk) {
                    if (status == google.maps.GeocoderStatus.OK) {
                        //console.log(results[0].address_components[0].long_name);                       
                        plaseObj = { lat: results[0].geometry.location.lat(), lng: results[0].geometry.location.lng() };    
                        var marker = new google.maps.Marker({
                            map: map, title: add, position: plaseObj
                        });
                        map.setCenter(marker.getPosition())

                        var content = "<h4>" + results[0].address_components[0].long_name + " Amount: " + tk + "</h4>";
                        var infowindow = new google.maps.InfoWindow()
                        google.maps.event.addListener(marker, 'click', (function (marker, content, infowindow) {
                            return function () {
                                infowindow.setContent(content);
                                infowindow.open(map, marker);
                            };
                        })(marker, content, infowindow));
                    }
                });
                //console.log(plaseObj);               
            }

        }
    }

    function clearMarkers() {
        for (var i = 0; i < markers.length; i++) {
            markers[i].setMap(null);
        }
        markers = [];
    }
    function getLatLng(addr) {
        var geocoder = new google.maps.Geocoder();
        //console.log(addr);
        if (geocoder) {

            geocoder.geocode({
                'address': addr
            }, function (results, status) {
                if (status == google.maps.GeocoderStatus.OK) {
                    //console.log(results[0].address_components[0].long_name);  
                    var plaseObj = { lat: results[0].geometry.location.lat(), lng: results[0].geometry.location.lng() };
                    console.log('Location:' + addr + " lat: " + plaseObj.lat + "lng: " + plaseObj.lng);
                    return plaseObj;
                }
            });
        }
    }
</script>

<script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyC9-411AYtIuknkcqsKJabhUDc5-L-9XEY&callback=initMap&language=bn&region=BD" ">
</script>